!function(e){function t(i){if(o[i])return o[i].exports;var f=o[i]={i:i,l:!1,exports:{}};return e[i].call(f.exports,f,f.exports,t),f.l=!0,f.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var o={target:document.body,cWidth:400,cHeight:400,iWidth:100,iHeight:100,max_size:250,min_size:100,exhibition:!0};e.exports=o},function(e,t,o){const i=o(0),f=o(2),s=o(3);window.profile_picture=function(e){const t=document.body;f.method(e.ele);var o,s,a,n,l,r,p,c,h=new Image,u=new Image,d=document.createElement("canvas"),v=e.maxSize||i.max_size,g=e.minSize||i.min_size,m=0,y=0;const _=new FileReader,b=f.canvas.getContext("2d"),H=f.canvas_image.getContext("2d"),W=d.getContext("2d");f.input.onchange=function(e){_.readAsDataURL(e.target.files[0]),_.onload=function(){function e(e,t,o){var i=e>=t?t:e;i<g?i=g:i>v&&(i=v);var s=i-p;1==o&&a-s>f.canvas.offsetLeft&&n-s>f.canvas.offsetTop?(f.profile.style.width=f.profile.style.height=i,f.profile.style.left=a-s,f.profile.style.top=n-s):2==o&&a-s>f.canvas.offsetLeft&&n+i<f.canvas.offsetTop+f.canvas.offsetHeight?(f.profile.style.width=f.profile.style.height=i,f.profile.style.left=a-s,f.profile.style.top=n):3==o&&a+i<f.canvas.offsetLeft+f.canvas.offsetWidth&&n-s>f.canvas.offsetTop?(f.profile.style.width=f.profile.style.height=i,f.profile.style.left=a,f.profile.style.top=n-s):4==o&&a+i<f.canvas.offsetLeft+f.canvas.offsetWidth&&n+i<f.canvas.offsetTop+f.canvas.offsetHeight&&(f.profile.style.width=f.profile.style.height=i,f.profile.style.left=a,f.profile.style.top=n),profile_picture.prototype.imageData=w()}function i(e){0==e.button&&1==e.buttons&&"mousemove"==e.type?(n+=e.clientY-r,a+=e.clientX-l,n>=f.canvas.offsetTop&&n<=f.canvas.offsetTop+f.canvas.offsetHeight-f.profile.offsetHeight?r=e.clientY:n<f.canvas.offsetTop?n=f.canvas.offsetTop:n>f.canvas.offsetTop+f.canvas.offsetHeight-f.profile.offsetHeight&&(n=f.canvas.offsetTop+f.canvas.offsetHeight-f.profile.offsetHeight),a>=f.canvas.offsetLeft&&a<=f.canvas.offsetLeft+f.canvas.offsetWidth-f.profile.offsetWidth?l=e.clientX:a<f.canvas.offsetLeft?a=f.canvas.offsetLeft:a>f.canvas.offsetLeft+f.canvas.offsetWidth-f.profile.offsetWidth&&(a=f.canvas.offsetLeft+f.canvas.offsetWidth-f.profile.offsetWidth),f.profile.style.top=n,f.profile.style.left=a,profile_picture.prototype.imageData=w()):0==e.button&&0==e.buttons&&e.type}function w(){for(var e=b.getImageData(f.profile.offsetLeft-f.canvas.offsetLeft,f.profile.offsetTop-f.canvas.offsetTop,f.profile.offsetWidth,f.profile.offsetHeight),t=0;t<e.data.length;t+=4)e.data[t]=e.data[t],e.data[t+1]=e.data[t+1],e.data[t+2]=e.data[t+2],e.data[t+3]=255;return H.putImageData(e,0,0),d.width=f.profile.offsetWidth,d.height=f.profile.offsetHeight,W.putImageData(e,0,0),u.src=d.toDataURL(),H.drawImage(u,0,0,100,100),f.canvas_image.toDataURL()}h.src=_.result,h.width/h.height?(o=400*h.width/h.height,s=400):(o=400,s=400*h.height/h.width),m=(400-o)/2,y=(400-s)/2,b.drawImage(h,m,y,o,s),f.profile_sys.appendChild(f.profile),a=f.canvas.offsetLeft+(400-f.profile.offsetWidth)/2,n=f.canvas.offsetTop+(400-f.profile.offsetHeight)/2,f.profile.style.top=n,f.profile.style.left=a,profile_picture.prototype.imageData=w(),f.profile_sys.onmousedown=function(o){l=o.clientX,r=o.clientY,p=f.profile.offsetWidth,c=f.profile.offsetHeight,a=f.profile.offsetLeft,n=f.profile.offsetTop,0==o.button&&o.target==f.profile&&(o.layerX<=10&&o.layerY<=10?f.profile_sys.onmousemove=function(t){if(0==t.button&&1==t.buttons){e(p+(l-t.clientX),c+(r-t.clientY),1)}}:o.layerX<=10&&o.layerY>=f.profile.offsetHeight-10?f.profile_sys.onmousemove=function(t){if(0==t.button&&1==t.buttons){e(p+(l-t.clientX),c-(r-t.clientY),2)}}:o.layerX>=f.profile.offsetWidth-10&&o.layerY<=10?f.profile_sys.onmousemove=function(t){if(0==t.button&&1==t.buttons){e(p-(l-t.clientX),c+(r-t.clientY),3)}}:o.layerX>=f.profile.offsetWidth-10&&o.layerY>=f.profile.offsetHeight-10?f.profile_sys.onmousemove=function(t){if(0==t.button&&1==t.buttons){e(p-(l-t.clientX),c-(r-t.clientY),4)}}:f.profile_sys.onmousemove=i),t.onmouseup=function(){p=f.profile.offsetWidth,c=f.profile.offsetHeight,a=f.profile.offsetLeft,n=f.profile.offsetTop}}}}},profile_picture.prototype.imageData=void 0,profile_picture.prototype.colorful=s,e.exports=profile_picture},function(e,t,o){const i=o(0),f={canvas_image:document.createElement("canvas"),canvas:document.createElement("canvas"),input:document.createElement("input"),profile:document.createElement("div"),profile_sys:document.createElement("div"),method:function(e){console.log(i);var t=e.el||i.target,o=e.el_stdin||i.target,f=e.ele_show||i.target,s=e.exhibition||i.exhibition;o.appendChild(this.input),t.appendChild(this.profile_sys),s&&f.appendChild(this.canvas_image),this.profile_sys.appendChild(this.canvas),this.canvas.width=e.cWidth||i.cWidth,this.canvas.height=e.cHeight||i.cHeight,this.profile.className="profile",this.profile_sys.className="profile_sys",this.canvas_image.className="profile_pic",this.canvas_image.width=e.iWidth||i.iWidth,this.canvas_image.height=e.iHeight||i.iHeight,this.input.type="file"}};e.exports=f},function(e,t){var o={gray:function(){},light:function(){},deep:function(){}};e.exports=o}]);